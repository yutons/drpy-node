import{_ as W,r as M,c as w,a as h,j as _,o as v,e as t,y as S,t as i,f as a,d as o,g as u,u as g,G as it,b as N,H as rt,J as Y,K as dt,L as ut,p as Q,N as Z,O as q,P as ct,k as vt,Q as kt,S as et,T as mt,F as st,l as at,U as ft,V as $,M as T,D as tt,W as pt,s as gt,v as _t,x as Tt,i as wt,X as ht,Y as yt}from"./index-Cb-8tKvE.js";const $t={class:"task-info"},Ct={class:"task-header"},bt={class:"task-title"},St={class:"task-meta"},zt={class:"source-info"},xt={class:"chapter-count"},Dt={class:"create-time"},Bt={class:"task-status"},Mt={key:0,class:"task-progress"},It={class:"progress-info"},Vt={class:"progress-text"},Nt={key:0,class:"download-speed"},Lt={class:"progress-percent"},Pt={key:1,class:"error-message"},Ot={key:2,class:"task-details"},Ft={class:"detail-row"},Rt={class:"value"},At={class:"detail-row"},Ut={class:"value"},Et={class:"detail-row"},Gt={class:"value"},Kt={key:0,class:"detail-row"},Xt={class:"value"},jt={class:"task-actions"},qt={__name:"DownloadTaskItem",props:{task:{type:Object,required:!0}},emits:["retry","pause","resume","cancel","delete","export","view-chapters"],setup(d,{emit:X}){const n=d,k=X,C=M(!1),z=w(()=>`task-${n.task.status}`),I=w(()=>({pending:"gray",downloading:"blue",paused:"orange",completed:"green",failed:"red",cancelled:"gray"})[n.task.status]||"gray"),x=w(()=>({pending:"等待中",downloading:"下载中",paused:"已暂停",completed:"已完成",failed:"下载失败",cancelled:"已取消"})[n.task.status]||"未知状态"),b=w(()=>{if(!n.task.totalChapters||n.task.totalChapters===0)return 0;const r=n.task.completedChapters||0;return Math.round(r/n.task.totalChapters*100)}),A=w(()=>n.task.status==="failed"?"danger":n.task.status==="completed"?"success":"normal"),L=w(()=>n.task.downloadSpeed?`${n.task.downloadSpeed} 章/分钟`:"0 章/分钟"),U=()=>{C.value=!C.value},E=r=>{r==="download"?k("export",n.task.id,{exportToGallery:!1}):r==="gallery"&&k("export",n.task.id,{exportToGallery:!0})},F=r=>r?new Date(r).toLocaleString("zh-CN"):"-",R=r=>{if(!r)return"0 B";const e=["B","KB","MB","GB"],V=Math.floor(Math.log(r)/Math.log(1024));return Math.round(r/Math.pow(1024,V)*100)/100+" "+e[V]},G=()=>{if(n.task.totalSize>0)return R(n.task.totalSize);if(n.task.status==="pending")return"等待计算";if(n.task.status==="downloading"){const r=n.task.downloadedSize||0;return r>0?`${R(r)} (下载中)`:"计算中..."}else return"未知"},m=()=>n.task.startTime?F(n.task.startTime):n.task.status==="pending"?"未开始":n.task.status==="downloading"?"正在启动...":"-";return(r,e)=>{const V=h("a-tag"),D=h("a-progress"),l=h("a-button"),s=h("a-button-group"),y=h("a-doption"),j=h("a-dropdown");return v(),_("div",{class:et(["download-task-item",z.value])},[t("div",$t,[t("div",Ct,[t("div",bt,[t("h3",null,i(d.task.novelTitle),1),t("div",St,[t("span",zt,i(d.task.sourceName),1),t("span",xt,"共 "+i(d.task.totalChapters)+" 章",1),t("span",Dt,i(F(d.task.createTime)),1)])]),t("div",Bt,[a(V,{color:I.value},{default:o(()=>[u(i(x.value),1)]),_:1},8,["color"])])]),d.task.status!=="pending"?(v(),_("div",Mt,[t("div",It,[t("span",Vt,[u(i(d.task.completedChapters||0)+" / "+i(d.task.totalChapters)+" 章 ",1),d.task.status==="downloading"?(v(),_("span",Nt," ("+i(L.value)+") ",1)):S("",!0)]),t("span",Lt,i(b.value)+"%",1)]),a(D,{percent:b.value,status:A.value,"show-text":!1,size:"small"},null,8,["percent","status"])])):S("",!0),d.task.status==="failed"&&d.task.errorMessage?(v(),_("div",Pt,[a(g(it)),u(" "+i(d.task.errorMessage),1)])):S("",!0),C.value?(v(),_("div",Ot,[t("div",Ft,[e[9]||(e[9]=t("span",{class:"label"},"下载路径:",-1)),t("span",Rt,i(d.task.downloadPath||"默认路径"),1)]),t("div",At,[e[10]||(e[10]=t("span",{class:"label"},"文件大小:",-1)),t("span",Ut,i(G()),1)]),t("div",Et,[e[11]||(e[11]=t("span",{class:"label"},"开始时间:",-1)),t("span",Gt,i(m()),1)]),d.task.completeTime?(v(),_("div",Kt,[e[12]||(e[12]=t("span",{class:"label"},"完成时间:",-1)),t("span",Xt,i(F(d.task.completeTime)),1)])):S("",!0)])):S("",!0)]),t("div",jt,[d.task.status==="downloading"?(v(),N(s,{key:0},{default:o(()=>[a(l,{size:"small",onClick:e[0]||(e[0]=B=>r.$emit("pause",d.task.id))},{icon:o(()=>[a(g(rt))]),default:o(()=>[e[13]||(e[13]=u(" 暂停 ",-1))]),_:1}),a(l,{size:"small",onClick:e[1]||(e[1]=B=>r.$emit("cancel",d.task.id))},{icon:o(()=>[a(g(Y))]),default:o(()=>[e[14]||(e[14]=u(" 取消 ",-1))]),_:1})]),_:1})):d.task.status==="paused"?(v(),N(s,{key:1},{default:o(()=>[a(l,{size:"small",type:"primary",onClick:e[2]||(e[2]=B=>r.$emit("resume",d.task.id))},{icon:o(()=>[a(g(dt))]),default:o(()=>[e[15]||(e[15]=u(" 继续 ",-1))]),_:1}),a(l,{size:"small",onClick:e[3]||(e[3]=B=>r.$emit("cancel",d.task.id))},{icon:o(()=>[a(g(Y))]),default:o(()=>[e[16]||(e[16]=u(" 取消 ",-1))]),_:1})]),_:1})):d.task.status==="failed"?(v(),N(s,{key:2},{default:o(()=>[a(l,{size:"small",type:"primary",onClick:e[4]||(e[4]=B=>r.$emit("retry",d.task.id))},{icon:o(()=>[a(g(ut))]),default:o(()=>[e[17]||(e[17]=u(" 重试 ",-1))]),_:1}),a(l,{size:"small",onClick:e[5]||(e[5]=B=>r.$emit("delete",d.task.id))},{icon:o(()=>[a(g(Q))]),default:o(()=>[e[18]||(e[18]=u(" 删除 ",-1))]),_:1})]),_:1})):d.task.status==="completed"?(v(),N(s,{key:3},{default:o(()=>[a(j,{onSelect:E},{content:o(()=>[a(y,{value:"download"},{icon:o(()=>[a(g(q))]),default:o(()=>[e[20]||(e[20]=u(" 下载TXT文件 ",-1))]),_:1}),a(y,{value:"gallery"},{icon:o(()=>[a(g(ct))]),default:o(()=>[e[21]||(e[21]=u(" 导出到书画柜 ",-1))]),_:1})]),default:o(()=>[a(l,{size:"small",type:"primary"},{icon:o(()=>[a(g(q))]),default:o(()=>[e[19]||(e[19]=u(" 导出 ",-1)),a(g(Z))]),_:1})]),_:1}),a(l,{size:"small",onClick:e[6]||(e[6]=B=>r.$emit("delete",d.task.id))},{icon:o(()=>[a(g(Q))]),default:o(()=>[e[22]||(e[22]=u(" 删除 ",-1))]),_:1})]),_:1})):d.task.status==="pending"?(v(),N(s,{key:4},{default:o(()=>[a(l,{size:"small",onClick:e[7]||(e[7]=B=>r.$emit("delete",d.task.id))},{icon:o(()=>[a(g(Q))]),default:o(()=>[e[23]||(e[23]=u(" 删除 ",-1))]),_:1})]),_:1})):S("",!0),a(l,{size:"small",onClick:e[8]||(e[8]=B=>r.$emit("view-chapters",d.task))},{icon:o(()=>[a(g(vt))]),default:o(()=>[e[24]||(e[24]=u(" 章节详情 ",-1))]),_:1}),a(l,{size:"small",onClick:U},{icon:o(()=>[C.value?(v(),N(g(kt),{key:1})):(v(),N(g(Z),{key:0}))]),default:o(()=>[u(" "+i(C.value?"收起":"详情"),1)]),_:1})])],2)}}},Ht=W(qt,[["__scopeId","data-v-c3fbae34"]]),Jt={key:0,class:"chapter-details"},Qt={class:"stats-section"},Wt={class:"stat-card"},Yt={class:"stat-number"},Zt={class:"stat-card success"},te={class:"stat-number"},ee={class:"stat-card warning"},se={class:"stat-number"},ae={class:"stat-card danger"},oe={class:"stat-number"},le={class:"stat-card"},ne={class:"stat-number"},ie={class:"filter-section"},re={class:"search-box"},de={class:"chapter-list"},ue={class:"list-body"},ce={class:"cell index"},ve={class:"cell name"},ke={class:"chapter-title"},me={key:0,class:"error-message"},fe={class:"cell status"},pe={key:0,class:"progress-mini"},ge={class:"cell size"},_e={class:"cell time"},Te={key:0,class:"time-info"},we={key:1,class:"time-info"},he={class:"cell actions"},ye={key:0,class:"batch-actions"},$e={key:0,class:"chapter-preview"},Ce={class:"preview-content"},be={__name:"ChapterDetailsDialog",props:{visible:{type:Boolean,default:!1},task:{type:Object,default:null}},emits:["close","retry-chapter"],setup(d,{emit:X}){const n=d,k=X,C=M("all"),z=M(""),I=M(!1),x=M(null),b=w(()=>n.task?.chapters?.filter(l=>l.status==="completed").length||0),A=w(()=>n.task?.chapters?.filter(l=>l.status==="downloading").length||0),L=w(()=>n.task?.chapters?.filter(l=>l.status==="failed").length||0),U=w(()=>n.task?.chapters?.filter(l=>l.status==="pending").length||0),E=w(()=>{if(!n.task?.chapters)return[];let l=n.task.chapters;if(C.value!=="all"&&(l=l.filter(s=>s.status===C.value)),z.value){const s=z.value.toLowerCase();l=l.filter(y=>(y.name||"").toLowerCase().includes(s))}return l}),F=l=>`status-${l.status||"pending"}`,R=l=>({pending:"gray",downloading:"blue",completed:"green",failed:"red"})[l]||"gray",G=l=>({pending:"等待中",downloading:"下载中",completed:"已完成",failed:"失败"})[l]||"未知",m=l=>{if(!l)return"-";const s=["B","KB","MB"],y=Math.floor(Math.log(l)/Math.log(1024));return Math.round(l/Math.pow(1024,y)*100)/100+" "+s[y]},r=l=>l?new Date(l).toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",e=l=>{k("retry-chapter",n.task.id,l)},V=()=>{n.task.chapters.map((s,y)=>({chapter:s,index:y})).filter(({chapter:s})=>s.status==="failed").forEach(({index:s})=>{k("retry-chapter",n.task.id,s)})},D=l=>{x.value=l,I.value=!0};return(l,s)=>{const y=h("a-radio"),j=h("a-radio-group"),B=h("a-input"),H=h("a-tag"),P=h("a-progress"),c=h("a-button"),p=h("a-modal");return v(),N(p,{visible:d.visible,title:`章节详情 - ${d.task?.novelTitle||""}`,width:"900px",footer:!1,onCancel:s[3]||(s[3]=f=>l.$emit("close"))},{default:o(()=>[d.task?(v(),_("div",Jt,[t("div",Qt,[t("div",Wt,[t("div",Yt,i(d.task.totalChapters),1),s[4]||(s[4]=t("div",{class:"stat-label"},"总章节",-1))]),t("div",Zt,[t("div",te,i(b.value),1),s[5]||(s[5]=t("div",{class:"stat-label"},"已完成",-1))]),t("div",ee,[t("div",se,i(A.value),1),s[6]||(s[6]=t("div",{class:"stat-label"},"下载中",-1))]),t("div",ae,[t("div",oe,i(L.value),1),s[7]||(s[7]=t("div",{class:"stat-label"},"失败",-1))]),t("div",le,[t("div",ne,i(U.value),1),s[8]||(s[8]=t("div",{class:"stat-label"},"等待中",-1))])]),t("div",ie,[a(j,{modelValue:C.value,"onUpdate:modelValue":s[0]||(s[0]=f=>C.value=f),type:"button",size:"small"},{default:o(()=>[a(y,{value:"all"},{default:o(()=>[...s[9]||(s[9]=[u("全部",-1)])]),_:1}),a(y,{value:"completed"},{default:o(()=>[...s[10]||(s[10]=[u("已完成",-1)])]),_:1}),a(y,{value:"downloading"},{default:o(()=>[...s[11]||(s[11]=[u("下载中",-1)])]),_:1}),a(y,{value:"failed"},{default:o(()=>[...s[12]||(s[12]=[u("失败",-1)])]),_:1}),a(y,{value:"pending"},{default:o(()=>[...s[13]||(s[13]=[u("等待中",-1)])]),_:1})]),_:1},8,["modelValue"]),t("div",re,[a(B,{modelValue:z.value,"onUpdate:modelValue":s[1]||(s[1]=f=>z.value=f),placeholder:"搜索章节名称",size:"small",style:{width:"200px"}},{prefix:o(()=>[a(g(mt))]),_:1},8,["modelValue"])])]),t("div",de,[s[16]||(s[16]=t("div",{class:"list-header"},[t("div",{class:"header-cell index"},"序号"),t("div",{class:"header-cell name"},"章节名称"),t("div",{class:"header-cell status"},"状态"),t("div",{class:"header-cell size"},"大小"),t("div",{class:"header-cell time"},"时间"),t("div",{class:"header-cell actions"},"操作")],-1)),t("div",ue,[(v(!0),_(st,null,at(E.value,(f,O)=>(v(),_("div",{key:O,class:et(["chapter-row",F(f)])},[t("div",ce,i(O+1),1),t("div",ve,[t("span",ke,i(f.name||`第${O+1}章`),1),f.error?(v(),_("div",me,i(f.error),1)):S("",!0)]),t("div",fe,[a(H,{color:R(f.status)},{default:o(()=>[u(i(G(f.status)),1)]),_:2},1032,["color"]),f.status==="downloading"?(v(),_("div",pe,[a(P,{percent:f.progress||0,size:"mini","show-text":!1},null,8,["percent"])])):S("",!0)]),t("div",ge,i(m(f.size)),1),t("div",_e,[f.startTime?(v(),_("div",Te," 开始: "+i(r(f.startTime)),1)):S("",!0),f.completeTime?(v(),_("div",we," 完成: "+i(r(f.completeTime)),1)):S("",!0)]),t("div",he,[f.status==="failed"?(v(),N(c,{key:0,size:"mini",type:"primary",onClick:J=>e(O)},{default:o(()=>[...s[14]||(s[14]=[u(" 重试 ",-1)])]),_:1},8,["onClick"])):S("",!0),f.status==="completed"?(v(),N(c,{key:1,size:"mini",onClick:J=>D(f)},{default:o(()=>[...s[15]||(s[15]=[u(" 预览 ",-1)])]),_:1},8,["onClick"])):S("",!0)])],2))),128))])]),L.value>0?(v(),_("div",ye,[a(c,{type:"primary",onClick:V},{default:o(()=>[...s[17]||(s[17]=[u(" 重试所有失败章节 ",-1)])]),_:1})])):S("",!0)])):S("",!0),a(p,{visible:I.value,"onUpdate:visible":s[2]||(s[2]=f=>I.value=f),title:"章节预览",width:"600px",footer:!1},{default:o(()=>[x.value?(v(),_("div",$e,[t("h3",null,i(x.value.name),1),t("div",Ce,i(x.value.content||"暂无内容"),1)])):S("",!0)]),_:1},8,["visible"])]),_:1},8,["visible","title"])}}},Se=W(be,[["__scopeId","data-v-8e3375e7"]]),ze=ft("download",()=>{const d=M([]),X=M(!1),n=()=>{d.value=$.getAllTasks()},k=()=>{$.saveTasksToStorage()},C=m=>{const r=$.createTask(m);return n(),r},z=m=>{$.startTask(m),n()},I=m=>{$.pauseTask(m),n()},x=m=>{$.startTask(m),n()},b=m=>{$.cancelTask(m),n()},A=m=>{$.deleteTask(m),n()},L=m=>{$.startTask(m),n()},U=(m,r)=>{$.retryChapter(m,r),n()},E=async(m,r={})=>{try{const e=$.getTask(m);if(!e){T.error("任务不存在");return}if(e.status!=="completed"){T.error("只能导出已完成的任务");return}const V=$.generateTxtContent(m);if(!V){T.error("生成TXT内容失败");return}if(r.exportToGallery){const D={title:e.novelTitle,author:e.novelAuthor||"未知",description:e.novelDescription||"",cover:e.novelCover||"",content:V,fileName:`${e.settings.fileName||e.novelTitle}.txt`,addedAt:Date.now(),source:"download"},l=tt.addBookFromContent(D);if(l.success){const s=l.isOverwrite?"更新":"添加";return T.success(`《${e.novelTitle}》已${s}到书画柜`),{success:!0,action:"addToGallery",isOverwrite:l.isOverwrite}}else return l.duplicate?new Promise(s=>{pt.confirm({title:"图书已存在",content:`书画柜中已存在《${D.title}》（作者：${D.author}），是否要覆盖现有图书？`,okText:"覆盖",cancelText:"取消",onOk:()=>{tt.addBookFromContent(D,{allowOverwrite:!0}).success?(T.success(`《${e.novelTitle}》已更新到书画柜`),s({success:!0,action:"addToGallery",isOverwrite:!0})):(T.error("更新图书失败"),s({success:!1}))},onCancel:()=>{T.info("已取消导出"),s({success:!1,cancelled:!0})}})}):l.storageLimit?(T.error(l.message),{success:!1,storageLimit:!0}):(T.error(l.message||"添加图书失败"),{success:!1})}else{const D=$.exportToTxt(m);return T.success("TXT文件导出成功"),D}}catch(e){return console.error("导出任务失败:",e),T.error("导出失败: "+e.message),null}},F=()=>{d.value.filter(r=>r.status==="completed").forEach(r=>{$.deleteTask(r.id)}),n()},R=w(()=>$.getTaskStats()),G=m=>$.getTasksByStatus(m);return $.setTaskUpdateCallback(()=>{n()}),n(),{tasks:d,loading:X,taskStats:R,loadTasks:n,saveTasks:k,addTask:C,startTask:z,pauseTask:I,resumeTask:x,cancelTask:b,deleteTask:A,retryTask:L,retryChapter:U,exportTask:E,clearCompleted:F,getTasksByStatus:G}}),xe={class:"novel-downloader"},De={class:"downloader-header"},Be={class:"header-left"},Me={class:"downloader-title"},Ie={class:"download-stats"},Ve={class:"stat-item"},Ne={class:"stat-item"},Le={class:"stat-item"},Pe={class:"stat-item"},Oe={class:"header-right"},Fe={class:"filter-tabs"},Re={class:"filter-left"},Ae={key:0,class:"storage-stats"},Ue={class:"storage-info"},Ee={class:"storage-header"},Ge={class:"storage-progress"},Ke={class:"storage-details"},Xe={class:"storage-used"},je={class:"storage-available"},qe={class:"storage-total"},He={class:"download-list"},Je={key:0,class:"empty-state"},Qe={key:1},We={__name:"NovelDownloader",props:{visible:{type:Boolean,default:!1}},emits:["close"],setup(d,{emit:X}){const n=gt(),k=ze(),C=M("all"),z=M(!1),I=M(!1),x=M(null),b=M({}),A=w(()=>k.tasks.length),L=w(()=>k.tasks.filter(c=>c.status==="completed").length),U=w(()=>k.tasks.filter(c=>c.status==="downloading").length),E=w(()=>k.tasks.filter(c=>c.status==="failed").length),F=w(()=>k.tasks.filter(c=>c.status==="pending").length),R=w(()=>C.value==="all"?k.tasks:k.tasks.filter(c=>c.status===C.value)),G=w(()=>x.value?k.tasks.find(c=>c.id===x.value.id)||x.value:null),m=()=>{window.history.length>1?n.go(-1):n.push("/")},r=c=>{k.addTask(c),P(),z.value=!1,T.success("下载任务已添加")},e=c=>{k.retryTask(c),P(),T.info("正在重试下载任务")},V=c=>{k.pauseTask(c),P(),T.info("下载任务已暂停")},D=c=>{k.resumeTask(c),P(),T.info("下载任务已恢复")},l=c=>{k.cancelTask(c),P(),T.info("下载任务已取消")},s=c=>{k.deleteTask(c),P(),T.success("下载任务已删除")},y=async(c,p={})=>{await k.exportTask(c,p)},j=c=>{x.value=c,I.value=!0},B=(c,p)=>{k.retryChapter(c,p),T.info("正在重试章节下载")},H=()=>{k.clearCompleted(),P(),T.success("已清理完成的下载任务")},P=()=>{b.value=$.getStorageStats()};return _t(()=>{k.loadTasks(),P()}),Tt(()=>{k.saveTasks()}),(c,p)=>{const f=h("a-button"),O=h("a-radio"),J=h("a-radio-group"),ot=h("a-tag"),lt=h("a-progress"),nt=h("a-empty");return v(),_("div",xe,[t("div",De,[t("div",Be,[t("h2",Me,[a(g(q)),p[4]||(p[4]=u(" 小说下载器 ",-1))]),t("div",Ie,[t("span",Ve," 总任务: "+i(A.value),1),t("span",Ne," 已完成: "+i(L.value),1),t("span",Le," 进行中: "+i(U.value),1),t("span",Pe," 失败: "+i(E.value),1)])]),t("div",Oe,[a(f,{type:"primary",onClick:p[0]||(p[0]=K=>z.value=!0)},{icon:o(()=>[a(g(wt))]),default:o(()=>[p[5]||(p[5]=u(" 新建下载 ",-1))]),_:1}),a(f,{onClick:H,disabled:L.value===0},{default:o(()=>[...p[6]||(p[6]=[u(" 清理已完成 ",-1)])]),_:1},8,["disabled"]),a(f,{onClick:m},{icon:o(()=>[a(g(ht))]),default:o(()=>[p[7]||(p[7]=u(" 关闭 ",-1))]),_:1})])]),t("div",Fe,[t("div",Re,[a(J,{modelValue:C.value,"onUpdate:modelValue":p[1]||(p[1]=K=>C.value=K),type:"button"},{default:o(()=>[a(O,{value:"all"},{default:o(()=>[u("全部 ("+i(A.value)+")",1)]),_:1}),a(O,{value:"downloading"},{default:o(()=>[u("下载中 ("+i(U.value)+")",1)]),_:1}),a(O,{value:"completed"},{default:o(()=>[u("已完成 ("+i(L.value)+")",1)]),_:1}),a(O,{value:"failed"},{default:o(()=>[u("失败 ("+i(E.value)+")",1)]),_:1}),a(O,{value:"pending"},{default:o(()=>[u("等待中 ("+i(F.value)+")",1)]),_:1})]),_:1},8,["modelValue"])]),g(k).tasks.length>0?(v(),_("div",Ae,[t("div",Ue,[t("div",Ee,[a(g(q),{class:"storage-icon"}),p[8]||(p[8]=t("span",{class:"storage-title"},"本地储存空间",-1)),a(ot,{color:b.value.isOverLimit?"red":b.value.isNearLimit?"orange":"green",size:"small"},{default:o(()=>[u(i(Math.round(b.value.usagePercentage))+"% ",1)]),_:1},8,["color"])]),t("div",Ge,[a(lt,{percent:b.value.usagePercentage,color:b.value.isOverLimit?"#f53f3f":b.value.isNearLimit?"#ff7d00":"#00b42a","show-text":!1,size:"small"},null,8,["percent","color"])]),t("div",Ke,[t("span",Xe,"已用: "+i(b.value.formattedUsed),1),t("span",je,"可用: "+i(b.value.formattedAvailable),1),t("span",qe,"总计: "+i(b.value.formattedTotal),1)])])])):S("",!0)]),t("div",He,[R.value.length===0?(v(),_("div",Je,[a(nt,{description:"暂无下载任务"})])):(v(),_("div",Qe,[(v(!0),_(st,null,at(R.value,K=>(v(),N(Ht,{key:K.id,task:K,onRetry:e,onPause:V,onResume:D,onCancel:l,onDelete:s,onExport:y,onViewChapters:j},null,8,["task"]))),128))]))]),a(yt,{visible:z.value,onClose:p[2]||(p[2]=K=>z.value=!1),onConfirm:r},null,8,["visible"]),a(Se,{visible:I.value,task:G.value,onClose:p[3]||(p[3]=K=>I.value=!1),onRetryChapter:B},null,8,["visible","task"])])}}},Ze=W(We,[["__scopeId","data-v-23026e76"]]);export{Ze as default};
